Search.setIndex({"docnames": ["api/base_tasks/index", "api/base_tasks/plotting", "api/base_tasks/preprocessing", "api/index", "index", "modules/BaseModules/METfilters", "modules/BaseModules/index", "modules/BaseModules/smearing", "modules/index", "usage"], "filenames": ["api/base_tasks/index.rst", "api/base_tasks/plotting.rst", "api/base_tasks/preprocessing.rst", "api/index.rst", "index.rst", "modules/BaseModules/METfilters.rst", "modules/BaseModules/index.rst", "modules/BaseModules/smearing.rst", "modules/index.rst", "usage.rst"], "titles": ["cmt.base_tasks", "cmt.base_tasks.plotting", "cmt.base_tasks.preprocessing", "API Reference", "Welcome to nanoaod-base-analysis\u2019s documentation!", "METfilters", "BaseModules", "Smearing", "Modules Reference", "Usage"], "terms": {"preprocess": [0, 1, 3, 4], "class": [0, 4, 5, 7], "preprocessrdf": [0, 4], "task": [1, 2], "arg": [1, 2], "kwarg": [1, 2, 5, 7], "perform": [1, 2, 4], "step": [1, 2], "appli": [1, 2, 5, 7], "preselect": 2, "run": [1, 2], "rdf": [1, 2], "modul": [1, 2, 4, 5, 7], "argument": [], "modules_fil": 2, "filenam": [1, 2], "insid": [1, 2], "cm": 9, "config": [1, 2, 5, 7], "output": [1, 2], "The": [], "thi": 4, "produc": 1, "determin": [], "need": 1, "consid": 1, "finish": [], "iff": [], "all": [1, 7], "exist": [], "subclass": [], "should": [], "overrid": [], "method": 1, "return": [1, 2], "singl": [], "target": [], "list": 1, "instanc": [], "implement": [1, 7], "note": 7, "If": 1, "multipl": [], "worker": [1, 2], "must": [], "resourc": [], "access": [], "df": [], "databas": [], "otherwis": [], "might": [], "comput": [1, 2, 7], "same": 1, "sinc": [], "thei": 2, "don": [], "t": 1, "see": 2, "work": 1, "done": [], "other": 1, "overridden": [], "weights_fil": 2, "none": 2, "cmt": [3, 4], "base_task": [3, 4], "check": 4, "out": 4, "usag": 4, "section": 4, "further": 4, "inform": 4, "includ": [1, 4], "how": 4, "instal": 4, "project": 4, "under": 4, "activ": 4, "develop": 4, "api": 4, "refer": 4, "To": 9, "us": [1, 2, 9], "nanoaod": 9, "base": [1, 2, 5, 7, 9], "analysi": 9, "first": 9, "git": 9, "clone": 9, "http": 9, "gitlab": 9, "cern": 9, "ch": 9, "phy": 9, "ciemat": 9, "nanoaod_base_analysi": 9, "b": 9, "py3": 9, "cd": 9, "sourc": 9, "setup": 9, "sh": 9, "law": [1, 2, 9], "index": 9, "verbos": 9, "paramet": [1, 2, 5, 7], "str": [1, 2], "w": [1, 2], "o": [1, 2], "extens": [1, 2], "one": [1, 2], "root": [1, 2], "file": [1, 2], "per": [1, 2], "inputfil": [], "input": [1, 2], "tree": 2, "addit": [1, 2], "branch": [1, 2], "creat": [1, 2], "rdatafram": [1, 2], "desir": [1, 2], "rdfmodul": [1, 2, 4, 6, 8], "exclude_index": [], "fals": [1, 2], "exclude_params_branch": [], "accept": [], "cancel_job": [], "cleanup_job": [], "end_branch": [], "htcondor_central_schedul": [], "htcondor_pool": [], "htcondor_schedul": [], "ignore_submiss": [], "max_runtim": [], "no_pol": [], "notifi": [], "parallel_job": [], "pilot": [], "poll_fail": [], "poll_interv": [], "retri": [], "shuffle_job": [], "start_branch": [], "tasks_per_job": [], "thread": [], "toler": [], "transfer_log": [], "walltim": [], "workflow": [1, 2], "exclude_params_index": [], "exclude_params_repr": [], "exclude_params_req": [], "exclude_params_req_get": [], "exclude_params_req_set": [], "exclude_params_workflow": [], "luigi": [], "object": [], "precount": [0, 4], "datasettaskwithcategori": [1, 2], "about": 4, "code": 4, "can": [1, 2, 4], "found": 4, "datasettask": 2, "localworkflow": [1, 2], "htcondorworkflow": [1, 2], "splittedtask": 2, "rdfmoduletask": [1, 2], "create_branch_map": [1, 2], "abstract": [], "overwritten": [], "inherit": [], "defin": 1, "map": [], "workflow_requir": [1, 2], "hook": [], "add": [], "requir": [1, 2], "expect": [], "dictionari": [], "when": 1, "call": [], "from": [1, 2], "an": 1, "except": [], "rais": [], "depend": 1, "A": [], "onli": [], "ar": [1, 2], "complet": 1, "your": [], "doe": [], "ani": [], "you": [], "dict": [], "whose": [], "valu": 1, "count": 2, "event": [1, 2], "without": 2, "necessari": 2, "weight": [1, 2], "read": 2, "In": 2, "case": 2, "have": 2, "number": [1, 2], "select": [1, 2], "dataset": [1, 2, 5, 7], "type": [1, 2], "int": [1, 2], "each": [1, 2], "One": [1, 2], "json": [1, 2], "categor": [0, 1, 4], "post": 2, "base_category_nam": 2, "categori": [1, 2], "name": [1, 2, 5, 7], "systemat": [1, 2], "systematic_direct": 2, "direct": 2, "feature_modules_fil": 2, "from_rdf": 2, "bool": [1, 2], "whether": [1, 2], "wa": 2, "region_nam": 2, "precounterwrapp": [0, 4], "preprocessrdfwrapp": [0, 4], "categorizationwrapp": [0, 4], "datasetsuperwrappertask": 2, "wrapper": 2, "over": 2, "sever": 2, "parallel": 2, "datasetcategorywrappertask": 2, "mergecategor": [0, 4], "forestmerg": 2, "merg": [1, 2], "order": 2, "reduc": 2, "enter": 2, "plot": [0, 2, 3, 4], "from_preprocess": 2, "wheter": 2, "true": [1, 2], "default": [1, 2], "By": 2, "although": 2, "bigger": 2, "set": [1, 2], "definit": 2, "mergecategorizationwrapp": [0, 4], "mergecategorizationstat": [0, 1, 4], "mergecategorizationstatswrapp": [0, 4], "baseplottask": [0, 4], "configtaskwithcategori": 1, "wrap": 1, "feature_nam": 1, "csv": 1, "string": 1, "featur": [1, 2], "empti": 1, "feature_tag": 1, "tag": 1, "filter": [1, 5], "via": 1, "skip_feature_nam": 1, "pattern": 1, "skip": 1, "skip_feature_tag": 1, "apply_weight": 1, "scale": 1, "histogram": 1, "n_bin": 1, "NOT": 1, "yet": 1, "custom": 1, "bin": 1, "configur": 1, "shape_region": 1, "choic": 1, "shape": 1, "region": 1, "qcd": 1, "remove_horn": 1, "remov": 1, "eta": 1, "horn": 1, "present": 1, "2017": 1, "preplot": [0, 4], "preplot_modules_fil": 1, "get_weight": 1, "obtain": 1, "product": 1, "channel": 1, "1": 1, "s": 1, "data": 1, "sampl": 1, "rtype": [], "nomin": 1, "avail": 1, "after": [1, 7], "usual": 1, "fill": 1, "also": 1, "those": 1, "featureplot": [0, 4], "datasetwrappertask": 1, "actual": 1, "load": 1, "rescal": 1, "them": 1, "save": [1, 2], "stack": 1, "show": 1, "background": 1, "normal": 1, "do_qcd": 1, "estim": 1, "abcd": 1, "qcd_wp": 1, "point": 1, "qcd_signal_region_wp": 1, "signal": 1, "qcd_sym_shap": 1, "symmetris": 1, "come": 1, "both": 1, "possibl": 1, "qcd_category_nam": 1, "sign": 1, "hide_data": 1, "hide": 1, "normalize_sign": 1, "total": 1, "yield": 1, "blind": 1, "specifi": 1, "save_png": 1, "png": 1, "save_pdf": 1, "pdf": 1, "save_root": 1, "write": 1, "save_yield": 1, "process_group_nam": 1, "process": [1, 5, 7], "group": 1, "bins_in_x_axi": 1, "x": 1, "axi": 1, "instead": 1, "plot_systemat": 1, "fulli": 1, "uncertainti": 1, "fixed_color": 1, "color": 1, "fix": 1, "start": 1, "2": [1, 2], "ha": [], "howev": [], "mai": [], "freeli": [], "logic": [], "mc": 1, "three": 1, "get_output_postfix": 1, "kei": 1, "setup_signal_hist": 1, "hist": 1, "format": 1, "setup_background_hist": 1, "setup_data_hist": 1, "get_systemat": 1, "extract": 1, "klub": 1, "It": 1, "given": 1, "parent": 1, "split": 1, "correct": 1, "exampl": [1, 2], "command": [1, 2], "version": [1, 2], "test": [1, 2], "base_config": 2, "ggf_sm": 2, "htcondor": [1, 2], "weight_fil": 2, "tt_dl": [1, 2], "tt_sl": [1, 2], "base_select": 2, "modulesrdf": 2, "10": 2, "max": 2, "runtim": 2, "12h": 2, "ul_2018": [1, 2], "48h": 2, "etau": [1, 2], "local": [1, 2], "20": [1, 2], "4": 2, "dy_high": [1, 2], "htt_svfit_mass": 1, "lep1_pt": 1, "bjet1_pt": 1, "lep1_eta": 1, "bjet1_eta": 1, "do": 1, "etau_os_iso": 1, "wjet": 1, "data_etau_a": 1, "data_etau_b": 1, "data_etau_c": 1, "data_etau_d": 1, "test_old": 1, "keep_and_drop_fil": 2, "column": 2, "skip_process": 1, "unless": 1, "met": [5, 7], "metfilt": [4, 6, 8], "metfilterrdf": [4, 6, 8], "yaml": [5, 7], "sintaxi": [5, 7], "module_cod": [], "path": [5, 7], "ismc": [5, 7], "self": [5, 7], "year": [5, 7], "basemodul": [4, 8], "codenam": [5, 7], "smear": [4, 6, 8], "jetsmearerrdf": [4, 6, 8], "jetvarrdf": [4, 6, 8], "metsmearerrdf": [4, 6, 8], "jet": 7, "factor": 7, "ul2016_prevfp": 7, "jertag": 7, "isul": 7, "has_tag": 7, "ul": 7, "pt": 7, "mass": 7, "phi": 7}, "objects": {"Base": [[6, 0, 0, "-", "Modules"]], "Base.Modules.METfilters": [[5, 1, 1, "", "MetFilterRDF"]], "Base.Modules.smearing": [[7, 1, 1, "", "jetSmearerRDF"], [7, 1, 1, "", "jetVarRDF"], [7, 1, 1, "", "metSmearerRDF"]], "cmt": [[0, 0, 0, "-", "base_tasks"]], "cmt.base_tasks": [[1, 0, 0, "-", "plotting"], [2, 0, 0, "-", "preprocessing"]], "cmt.base_tasks.plotting": [[1, 1, 1, "", "BasePlotTask"], [1, 1, 1, "", "FeaturePlot"], [1, 1, 1, "", "PrePlot"]], "cmt.base_tasks.plotting.FeaturePlot": [[1, 2, 1, "", "complete"], [1, 2, 1, "", "get_output_postfix"], [1, 2, 1, "", "get_systematics"], [1, 2, 1, "", "output"], [1, 2, 1, "", "plot"], [1, 2, 1, "", "requires"], [1, 2, 1, "", "run"], [1, 2, 1, "", "setup_background_hist"], [1, 2, 1, "", "setup_data_hist"], [1, 2, 1, "", "setup_signal_hist"]], "cmt.base_tasks.plotting.PrePlot": [[1, 2, 1, "", "create_branch_map"], [1, 2, 1, "", "get_weight"], [1, 2, 1, "", "output"], [1, 2, 1, "", "requires"], [1, 2, 1, "", "run"], [1, 2, 1, "", "workflow_requires"]], "cmt.base_tasks.preprocessing": [[2, 1, 1, "", "Categorization"], [2, 1, 1, "", "CategorizationWrapper"], [2, 1, 1, "", "MergeCategorization"], [2, 1, 1, "", "MergeCategorizationStats"], [2, 1, 1, "", "MergeCategorizationStatsWrapper"], [2, 1, 1, "", "MergeCategorizationWrapper"], [2, 1, 1, "", "PreCounter"], [2, 1, 1, "", "PreCounterWrapper"], [2, 1, 1, "", "PreprocessRDF"], [2, 1, 1, "", "PreprocessRDFWrapper"]], "cmt.base_tasks.preprocessing.Categorization": [[2, 2, 1, "", "create_branch_map"], [2, 2, 1, "", "output"], [2, 3, 1, "", "region_name"], [2, 2, 1, "", "requires"], [2, 2, 1, "", "run"], [2, 2, 1, "", "workflow_requires"]], "cmt.base_tasks.preprocessing.MergeCategorization": [[2, 3, 1, "", "region_name"]], "cmt.base_tasks.preprocessing.PreCounter": [[2, 2, 1, "", "create_branch_map"], [2, 2, 1, "", "output"], [2, 2, 1, "", "requires"], [2, 2, 1, "", "run"], [2, 2, 1, "", "workflow_requires"]], "cmt.base_tasks.preprocessing.PreprocessRDF": [[2, 2, 1, "", "output"], [2, 2, 1, "", "run"], [2, 3, 1, "", "weights_file"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method", "3": "py:attribute"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"], "3": ["py", "attribute", "Python attribute"]}, "titleterms": {"cmt": [0, 1, 2], "base_task": [0, 1, 2], "preprocess": 2, "content": [1, 2, 4, 5, 7], "class": [1, 2], "preprocessrdf": 2, "api": 3, "refer": [3, 8], "welcom": 4, "nanoaod": 4, "base": 4, "analysi": 4, "s": 4, "document": 4, "usag": 9, "instal": 9, "precount": 2, "categor": 2, "precounterwrapp": 2, "preprocessrdfwrapp": 2, "categorizationwrapp": 2, "mergecategor": 2, "mergecategorizationwrapp": 2, "mergecategorizationstat": 2, "mergecategorizationstatswrapp": 2, "plot": 1, "baseplottask": 1, "preplot": 1, "featureplot": 1, "modul": 8, "metfilt": 5, "metfilterrdf": 5, "basemodul": 6, "rdfmodul": [5, 7], "smear": 7, "jetsmearerrdf": 7, "jetvarrdf": 7, "metsmearerrdf": 7}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx": 56}})